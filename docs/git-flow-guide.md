# Git Flow å·¥ä½œæµæŒ‡å—

## ğŸ“‹ æ¦‚è¿°

æœ¬é¡¹ç›®ä½¿ç”¨ Git Flow å·¥ä½œæµæ¥ç®¡ç†ä»£ç ç‰ˆæœ¬å’Œå‘å¸ƒæµç¨‹ï¼Œç¡®ä¿ä»£ç è´¨é‡å’Œå‘å¸ƒç¨³å®šæ€§ã€‚

## ğŸŒ³ åˆ†æ”¯ç»“æ„

### ä¸»è¦åˆ†æ”¯
- **main**: ç”Ÿäº§ç¯å¢ƒåˆ†æ”¯ï¼ŒåŒ…å«ç¨³å®šçš„å‘å¸ƒç‰ˆæœ¬
- **develop**: å¼€å‘åˆ†æ”¯ï¼ŒåŒ…å«æœ€æ–°çš„å¼€å‘åŠŸèƒ½

### æ”¯æŒåˆ†æ”¯
- **feature/**: åŠŸèƒ½å¼€å‘åˆ†æ”¯
- **release/**: å‘å¸ƒå‡†å¤‡åˆ†æ”¯
- **hotfix/**: ç´§æ€¥ä¿®å¤åˆ†æ”¯
- **support/**: é•¿æœŸæ”¯æŒåˆ†æ”¯

## ğŸš€ å¸¸ç”¨å‘½ä»¤

### 1. åŠŸèƒ½å¼€å‘æµç¨‹

#### å¼€å§‹æ–°åŠŸèƒ½å¼€å‘
```bash
# åˆ›å»ºå¹¶åˆ‡æ¢åˆ°æ–°çš„åŠŸèƒ½åˆ†æ”¯
git flow feature start åŠŸèƒ½åç§°

# ä¾‹å¦‚ï¼šå¼€å‘ç”¨æˆ·è®¤è¯åŠŸèƒ½
git flow feature start user-auth
```

#### å®ŒæˆåŠŸèƒ½å¼€å‘
```bash
# å®ŒæˆåŠŸèƒ½å¼€å‘ï¼Œåˆå¹¶åˆ°developåˆ†æ”¯
git flow feature finish åŠŸèƒ½åç§°

# ä¾‹å¦‚ï¼šå®Œæˆç”¨æˆ·è®¤è¯åŠŸèƒ½
git flow feature finish user-auth
```

#### å‘å¸ƒåŠŸèƒ½åˆ†æ”¯ï¼ˆå¯é€‰ï¼‰
```bash
# å°†åŠŸèƒ½åˆ†æ”¯æ¨é€åˆ°è¿œç¨‹ä»“åº“è¿›è¡Œåä½œ
git flow feature publish åŠŸèƒ½åç§°

# è·å–ä»–äººå‘å¸ƒçš„åŠŸèƒ½åˆ†æ”¯
git flow feature pull origin åŠŸèƒ½åç§°
```

### 2. å‘å¸ƒæµç¨‹

#### å¼€å§‹å‘å¸ƒå‡†å¤‡
```bash
# åˆ›å»ºå‘å¸ƒåˆ†æ”¯
git flow release start ç‰ˆæœ¬å·

# ä¾‹å¦‚ï¼šå‡†å¤‡v1.0.0ç‰ˆæœ¬å‘å¸ƒ
git flow release start v1.0.0
```

#### å®Œæˆå‘å¸ƒ
```bash
# å®Œæˆå‘å¸ƒï¼Œåˆå¹¶åˆ°mainå’Œdevelopåˆ†æ”¯ï¼Œå¹¶åˆ›å»ºæ ‡ç­¾
git flow release finish ç‰ˆæœ¬å·

# ä¾‹å¦‚ï¼šå®Œæˆv1.0.0ç‰ˆæœ¬å‘å¸ƒ
git flow release finish v1.0.0
```

### 3. ç´§æ€¥ä¿®å¤æµç¨‹

#### å¼€å§‹ç´§æ€¥ä¿®å¤
```bash
# ä»mainåˆ†æ”¯åˆ›å»ºhotfixåˆ†æ”¯
git flow hotfix start ä¿®å¤ç‰ˆæœ¬å·

# ä¾‹å¦‚ï¼šä¿®å¤v1.0.1ç‰ˆæœ¬çš„ç´§æ€¥é—®é¢˜
git flow hotfix start v1.0.1
```

#### å®Œæˆç´§æ€¥ä¿®å¤
```bash
# å®Œæˆä¿®å¤ï¼Œåˆå¹¶åˆ°mainå’Œdevelopåˆ†æ”¯
git flow hotfix finish ä¿®å¤ç‰ˆæœ¬å·

# ä¾‹å¦‚ï¼šå®Œæˆv1.0.1ç‰ˆæœ¬ä¿®å¤
git flow hotfix finish v1.0.1
```

## ğŸ“ æäº¤è§„èŒƒ

### æäº¤æ¶ˆæ¯æ ¼å¼
```
<type>(<scope>): <description>

[optional body]

[optional footer]
```

### ç±»å‹è¯´æ˜
- **feat**: æ–°åŠŸèƒ½
- **fix**: ä¿®å¤bug
- **docs**: æ–‡æ¡£æ›´æ–°
- **style**: ä»£ç æ ¼å¼è°ƒæ•´
- **refactor**: ä»£ç é‡æ„
- **test**: æµ‹è¯•ç›¸å…³
- **chore**: æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨

### ç¤ºä¾‹
```bash
# æ–°åŠŸèƒ½
git commit -m "feat(api): æ·»åŠ æ¸¸æˆè®°å½•æäº¤æ¥å£"

# ä¿®å¤bug
git commit -m "fix(database): ä¿®å¤æ’è¡Œæ¦œæŸ¥è¯¢æ€§èƒ½é—®é¢˜"

# æ–‡æ¡£æ›´æ–°
git commit -m "docs(readme): æ›´æ–°APIä½¿ç”¨è¯´æ˜"

# ä»£ç é‡æ„
git commit -m "refactor(service): ä¼˜åŒ–æ¸¸æˆæœåŠ¡ä»£ç ç»“æ„"
```

## ğŸ”„ å·¥ä½œæµç¨‹ç¤ºä¾‹

### å¼€å‘æ–°åŠŸèƒ½çš„å®Œæ•´æµç¨‹

1. **ç¡®ä¿åœ¨developåˆ†æ”¯**
```bash
git checkout develop
git pull origin develop
```

2. **å¼€å§‹æ–°åŠŸèƒ½å¼€å‘**
```bash
git flow feature start ranking-system
```

3. **å¼€å‘è¿‡ç¨‹ä¸­çš„æäº¤**
```bash
git add .
git commit -m "feat(ranking): æ·»åŠ æ’è¡Œæ¦œåŸºç¡€ç»“æ„"
git commit -m "feat(ranking): å®ç°æ’è¡Œæ¦œæŸ¥è¯¢é€»è¾‘"
git commit -m "test(ranking): æ·»åŠ æ’è¡Œæ¦œå•å…ƒæµ‹è¯•"
```

4. **å®ŒæˆåŠŸèƒ½å¼€å‘**
```bash
git flow feature finish ranking-system
```

5. **æ¨é€åˆ°è¿œç¨‹ä»“åº“**
```bash
git push origin develop
```

### å‘å¸ƒç‰ˆæœ¬çš„å®Œæ•´æµç¨‹

1. **å¼€å§‹å‘å¸ƒå‡†å¤‡**
```bash
git checkout develop
git pull origin develop
git flow release start v1.1.0
```

2. **å‘å¸ƒå‡†å¤‡å·¥ä½œ**
```bash
# æ›´æ–°ç‰ˆæœ¬å·
npm version 1.1.0

# æ›´æ–°CHANGELOG
git add .
git commit -m "chore(release): å‡†å¤‡v1.1.0ç‰ˆæœ¬å‘å¸ƒ"
```

3. **å®Œæˆå‘å¸ƒ**
```bash
git flow release finish v1.1.0
```

4. **æ¨é€æ‰€æœ‰åˆ†æ”¯å’Œæ ‡ç­¾**
```bash
git push origin main
git push origin develop
git push origin --tags
```

## ğŸ› ï¸ æœ€ä½³å®è·µ

### 1. åˆ†æ”¯å‘½åè§„èŒƒ
- **åŠŸèƒ½åˆ†æ”¯**: `feature/åŠŸèƒ½æè¿°` (å¦‚: `feature/user-authentication`)
- **å‘å¸ƒåˆ†æ”¯**: `release/ç‰ˆæœ¬å·` (å¦‚: `release/v1.0.0`)
- **ä¿®å¤åˆ†æ”¯**: `hotfix/ç‰ˆæœ¬å·` (å¦‚: `hotfix/v1.0.1`)

### 2. å¼€å‘å»ºè®®
- ä¿æŒåŠŸèƒ½åˆ†æ”¯å°è€Œä¸“æ³¨
- å®šæœŸä»developåˆ†æ”¯åˆå¹¶æœ€æ–°ä»£ç 
- åœ¨åˆå¹¶å‰ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡
- ä½¿ç”¨æœ‰æ„ä¹‰çš„æäº¤æ¶ˆæ¯

### 3. ä»£ç å®¡æŸ¥
- æ‰€æœ‰åŠŸèƒ½åˆ†æ”¯åœ¨åˆå¹¶å‰éœ€è¦ä»£ç å®¡æŸ¥
- ä½¿ç”¨Pull Requestè¿›è¡Œä»£ç å®¡æŸ¥
- ç¡®ä¿ä»£ç ç¬¦åˆé¡¹ç›®è§„èŒƒ

### 4. æµ‹è¯•è¦æ±‚
- æ–°åŠŸèƒ½å¿…é¡»åŒ…å«å•å…ƒæµ‹è¯•
- å‘å¸ƒå‰è¿›è¡Œå®Œæ•´çš„é›†æˆæµ‹è¯•
- ä¿®å¤bugæ—¶æ·»åŠ å›å½’æµ‹è¯•

## ğŸ”§ é…ç½®è¯´æ˜

### Git Flow é…ç½®
```bash
# æŸ¥çœ‹å½“å‰é…ç½®
git flow config

# é‡æ–°é…ç½®ï¼ˆå¦‚æœéœ€è¦ï¼‰
git flow init
```

### åˆ†æ”¯ä¿æŠ¤è§„åˆ™ï¼ˆæ¨èï¼‰
- **mainåˆ†æ”¯**: ç¦æ­¢ç›´æ¥æ¨é€ï¼Œåªèƒ½é€šè¿‡PRåˆå¹¶
- **developåˆ†æ”¯**: è¦æ±‚ä»£ç å®¡æŸ¥å’Œæµ‹è¯•é€šè¿‡
- **åŠŸèƒ½åˆ†æ”¯**: å…è®¸ç›´æ¥æ¨é€ï¼Œä½†å»ºè®®ä½¿ç”¨PR

## ğŸ“š ç›¸å…³èµ„æº

- [Git Flow å®˜æ–¹æ–‡æ¡£](https://nvie.com/posts/a-successful-git-branching-model/)
- [Git Flow å‘½ä»¤å‚è€ƒ](https://danielkummer.github.io/git-flow-cheatsheet/)
- [è¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒ](https://semver.org/lang/zh-CN/)
- [çº¦å®šå¼æäº¤è§„èŒƒ](https://www.conventionalcommits.org/zh-hans/)

## â“ å¸¸è§é—®é¢˜

### Q: å¦‚ä½•æ’¤é”€Git Flowæ“ä½œï¼Ÿ
A: Git Flowæ“ä½œæœ¬è´¨ä¸Šæ˜¯Gitæ“ä½œï¼Œå¯ä»¥ä½¿ç”¨æ ‡å‡†Gitå‘½ä»¤æ’¤é”€ã€‚

### Q: åŠŸèƒ½åˆ†æ”¯å¼€å‘æ—¶é—´è¿‡é•¿æ€ä¹ˆåŠï¼Ÿ
A: å®šæœŸä»developåˆ†æ”¯åˆå¹¶æœ€æ–°ä»£ç ï¼Œé¿å…å†²çªç§¯ç´¯ã€‚

### Q: å¦‚ä½•å¤„ç†åˆå¹¶å†²çªï¼Ÿ
A: ä½¿ç”¨Gitæ ‡å‡†å†²çªè§£å†³æµç¨‹ï¼Œå¿…è¦æ—¶å¯»æ±‚å›¢é˜Ÿå¸®åŠ©ã€‚

### Q: å‘å¸ƒåˆ†æ”¯å¯ä»¥æ·»åŠ æ–°åŠŸèƒ½å—ï¼Ÿ
A: å‘å¸ƒåˆ†æ”¯åªåº”åŒ…å«bugä¿®å¤å’Œå‘å¸ƒå‡†å¤‡å·¥ä½œï¼Œä¸åº”æ·»åŠ æ–°åŠŸèƒ½ã€‚